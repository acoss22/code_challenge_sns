{% extends "base.html" %}

{% block content %}
<div class="flex items-center justify-between mb-6">
    <div>
        <h2 class="text-xl font-semibold">Your Tasks</h2>
        <p class="text-sm text-gray-500">
            Manage and track your work
        </p>
    </div>

    <a href="{% url 'task-create' %}" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white
               rounded-md text-sm font-medium hover:bg-blue-700 transition">
        + New task
    </a>
</div>

{% if tasks %}
<div class="space-y-3">
    {% for task in tasks %}
    <div class="bg-white border rounded-lg p-4 flex justify-between items-start">
        <div class="space-y-1">
            <div class="flex items-center gap-2">
                <h3 class="font-medium text-gray-900">
                    {{ task.title }}
                </h3>

                {% if task.status == "PENDING" %}
                <span class="text-xs px-2 py-0.5 rounded-full bg-gray-100 text-gray-700">
                    Pending
                </span>
                {% elif task.status == "IN_PROGRESS" %}
                <span class="text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-700">
                    In progress
                </span>
                {% elif task.status == "COMPLETED" %}
                <span class="text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-700">
                    Completed
                </span>
                {% endif %}
            </div>

            <p class="text-sm text-gray-500">
                Due {{ task.due_date }}
            </p>

            {% if task.description %}
            <p class="text-sm text-gray-600">
                {{ task.description|truncatechars:100 }}
            </p>
            {% endif %}
        </div>

        <div class="flex items-center gap-4 text-sm">
            <a href="{% url 'task-edit' task.id %}" class="text-blue-600 hover:underline">
                Edit
            </a>
            <a href="{% url 'task-delete' task.id %}" class="text-red-600 hover:underline">
                Delete
            </a>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="bg-white border rounded-lg p-8 text-center">
    <p class="text-gray-500 mb-4">
        You donâ€™t have any tasks yet.
    </p>
    <a href="{% url 'task-create' %}" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white
               rounded-md text-sm font-medium hover:bg-blue-700 transition">
        Create your first task
    </a>
</div>
{% endif %}
{% endblock %}